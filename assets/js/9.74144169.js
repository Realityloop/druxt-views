(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{410:function(t,e,n){"use strict";n.r(e);n(23),n(174),n(93),n(175);var i=n(349),r=(n(96),n(57)),s=n(311),a=n(335),u={name:"DruxtView",mixins:[a.b],props:{displayId:{type:String,default:"default"},type:{type:String,default:"view--view"},uuid:{type:String,required:!0},viewId:{type:String,required:!0}},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource({type:t.type,id:t.uuid});case 2:return t.view=e.sent,e.next=5,t.getResource({type:"views--".concat(t.viewId),id:t.displayId});case 5:return t.results=e.sent,e.next=8,a.b.fetch.call(t);case 8:case"end":return e.stop()}}),e)})))()},data:function(){return{results:[],view:!1}},computed:{attachments_after:function(){var t=this,e=this.view.attributes.display;return Object.keys(e).filter((function(n){return"attachment"===e[n].display_plugin&&"after"===e[n].display_options.attachment_position&&void 0!==e[n].display_options.displays[t.displayId]}))},attachments_before:function(){var t=this,e=this.view.attributes.display;return Object.keys(e).filter((function(n){return"attachment"===e[n].display_plugin&&"before"===e[n].display_options.attachment_position&&void 0!==e[n].display_options.displays[t.displayId]}))},display:function(){return!(!this.view||!this.view.attributes)&&("default"===this.display_id?this.view.attributes.display[this.display_id]:Object(i.a)(Object(i.a)({},this.view.attributes.display[this.displayId]),this.view.attributes.display.default))},headers:function(){return this.display?this.display.display_options.header:[]},mode:function(){return!!this.display&&(!!this.display.display_options.row.type.includes("entity:")&&this.display.display_options.row.options.view_mode)}},methods:Object(i.a)({},Object(s.a)({getResource:"druxtRouter/getEntity"})),druxt:function(t){var e=t.vm;return{componentOptions:[[e.viewId,e.displayId]],propsData:{results:e.results,view:e.view}}},watch:{uuid:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch();case 2:case"end":return e.stop()}}),e)})))()},displayId:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch();case 2:case"end":return e.stop()}}),e)})))()}}},o=n(42),p=Object(o.a)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$fetchState.pending?t._e():n(t.wrapper.component,t._b({tag:"component"},"component",t.wrapper.propsData,!1),[n(t.component.is,t._b({tag:"component",scopedSlots:t._u([{key:"header",fn:function(){return t._l(t.headers,(function(e){return n("span",{key:e.id,domProps:{innerHTML:t._s(e.content.value)}})}))},proxy:!0},t.attachments_before?{key:"attachments_before",fn:function(e){return t._l(t.attachments_before,(function(i){return n("DruxtView",t._b({key:i,attrs:{"display-id":i,type:t.type,uuid:t.uuid,"view-id":t.viewId}},"DruxtView",e,!1))}))}}:null,{key:"results",fn:function(e){return t._l(t.results,(function(i){return n("DruxtEntity",t._b({key:i.id},"DruxtEntity",Object.assign({},{type:i.type,uuid:i.id,mode:t.mode},e),!1))}))}},t.attachments_after?{key:"attachments_after",fn:function(e){return t._l(t.attachments_after,(function(i){return n("DruxtView",t._b({key:i,attrs:{"display-id":i,type:t.type,uuid:t.uuid,"view-id":t.viewId}},"DruxtView",e,!1))}))}}:null],null,!0)},"component",t.component.propsData,!1),[t._v(" "),t._v(" "),t._v(" "),t._v(" "),[t._l(t.headers,(function(e){return n("span",{key:e.id,domProps:{innerHTML:t._s(e.content.value)}})})),t._v(" "),t._l(t.results,(function(e){return n("DruxtEntity",t._b({key:e.id},"DruxtEntity",{type:e.type,uuid:e.id,mode:t.mode},!1))}))]],2)],1)}),[],!1,null,null,null);e.default=p.exports}}]);